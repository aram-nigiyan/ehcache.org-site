<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>FAQ</title><link rel="Prev" href="co-hib_upgrading_from_versions_prior_to_2.html" title="Previous"><link rel="Next" href="to-cold_using_ehcache_with_coldfusion.html" title="Next"><link rel="StyleSheet" href="css/ehcache_all.css" type="text/css" media="all"><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all"><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all"><!--[if IE 7]><link rel="StyleSheet" href="css/ehcache_all_IE7.css" type="text/css" media="all"><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print"><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN2f4R4eakVlsu3BNU5mAMkg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/Ehcache_Documentation_Set/co-hib_faq.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/ehcache_all.1.188.html#wwconnect_header">Related Documentation</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/ehcache_all.1.265.html#wwconnect_header">Integrations</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_parent"><a href="../Ehcache_Documentation_Set/to-hib_using_ehcache_with_hibernate.html#wwconnect_header">Using Ehcache with Hibernate</a></span><span class="ww_skin_breadcrumbs_divider"> : </span><span class="ww_skin_breadcrumbs_current">FAQ</span></div><div class="ww_skin_page_toolbar"><!-- Twitter --><!--         --><!-- FaceBook Like --><!--               --><!-- LinkedIn Share --><!--                --><!-- Google +1 --><!--           --><!--        <a wwpage:condition="print-enabled" class="ww_behavior_print ww_skin ww_skin_print" title="Print" wwpage:attribute-title="navigation-print-title" href="#">&#160;</a>  --></div></header><div id="ww3_12_6_5_27_1" class="Heading_3">FAQ</div><div id="ww3_12_6_5_27_2_2_3" class="Section_Title">If I use BigMemory Go with my application and with Hibernate for second-level caching, should I try to use the CacheManager created by Hibernate for my app's caches?</div><div id="ww3_12_6_5_27_2_2_5" class="Body">While you could share the resource file between the two CacheManagers, a clear separation between the two is recommended. Your application may have a different lifecycle than Hibernate, and in each case your CacheManager “Automatic Resource Control” settings might need to be different.</div><div id="ww3_12_6_5_27_2_4_3" class="Section_Title">Should I use the provider in the Hibernate distribution or in BigMemory Go's Ehcache?</div><div id="ww3_12_6_5_27_2_4_5" class="Body">Since Hibernate 2.1, Hibernate has included an Ehcache CacheProvider. That provider is periodically synced up with the provider in the Ehcache Core distribution. New features are generally added in to the Ehcache Core provider and then the Hibernate one.</div><div id="ww3_12_6_5_27_2_6_3" class="Section_Title">What is the relationship between the Hibernate and Ehcache projects?</div><div id="ww3_12_6_5_27_2_6_5" class="Body">Gavin King and Greg Luck cooperated to create Ehcache and include it in Hibernate. Since 2009, Greg Luck has been a committer on the Hibernate project to ensure Ehcache remains a first-class second-level cache for Hibernate.</div><div id="ww3_12_6_5_27_2_8_3" class="Section_Title">Does BigMemory Go support the transactional strategy?</div><div id="ww3_12_6_5_27_2_8_5" class="Body">Yes. It was introduced in Ehcache 2.1.</div><div id="ww3_12_6_5_27_2_10_3" class="Section_Title">Are Hibernate transactions supported?</div><div id="ww3_12_6_5_27_2_10_5" class="Body">Ehcache is a “transactional” cache for Hibernate purposes. The net.sf.ehcache.hibernate.EhCacheRegionFactory has support for Hibernate entities configured with &lt;cache usage="transactional"/&gt;.</div><div id="ww3_12_6_5_27_2_12_3" class="Section_Title">Why do certain caches sometimes get automatically cleared by Hibernate?</div><div id="ww3_12_6_5_27_2_12_5" class="Body">Whenever a Query.executeUpdate() is run, Hibernate invalidates affected cache regions (those corresponding to affected database tables) to ensure that no stale data is cached. This should also happen whenever stored procedures are executed.</div><div id="ww3_12_6_5_27_2_12_7" class="Body">For more information, see this Hibernate bug report: <span class="external"><a href="https://hibernate.onjira.com/browse/HHH-2224" target="external_window">https://hibernate.onjira.com/browse/HHH-2224</a></span>.</div><div id="ww3_12_6_5_27_2_14_3" class="Section_Title">How are Hibernate entities keyed?</div><div id="ww3_12_6_5_27_2_14_5" class="Body">Hibernate identifies cached entities using an object id. This is normally the primary key of a database row.</div><div id="ww3_12_6_5_27_2_16_3" class="Section_Title">Are compound keys supported?</div><div id="ww3_12_6_5_27_2_16_5" class="Body">Yes.</div><div id="ww3_12_6_5_27_2_18_3" class="Section_Title">I am getting this error message: “An item was expired by the cache while it was locked.” What is it?</div><div id="ww3_12_6_5_27_2_18_5" class="Body">Soft locks are implemented by replacing a value with a special type that marks the element as locked, thus indicating to other threads to treat it differently than a normal element. This is used in the Hibernate Read/Write strategy to force fall-through to the database during the two-phase commit. Although we don't know exactly what should be returned by the cache while the commit is in process, the database does. If a soft-locked element is evicted by the cache during the two-phase commit, then once the two-phase commit completes, the cache will fail to update (since the soft-locked element was evicted) and the cache entry will be reloaded from the database on the next read of that object. This is obviously non-fatal, but could cause a small rise in database load.</div><div id="ww3_12_6_5_27_2_18_7" class="Body">So, in summary the Hibernate messages are not problematic. The underlying cause is that the probabilistic evictor can theoretically evict recently loaded items. You can also use the deterministic evictor to avoid this problem. Specify the <span class="parmname">-Dnet.sf.ehcache.use.classic.lru=true</span> system property to turn on classic LRU, which contains a deterministic evictor.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br></footer><div><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 11px; margin-top: 20px; margin-bottom: 20px;"><span class="xref"><a href="http://documentation.softwareag.com/legal/" target="external_window">Copyright © <span>2014</span><span> </span><span></span><span></span> Software AG, Darmstadt, Germany</a></span>.</div><hr><div style="font-family: Arial, Verdana, Helvetica, Sans-Serif; font-size: 13px; font-weight: bold; margin-top: 20px;"><span><img style="vertical-align:middle" src="../connect/product_online.png" alt="Product Logo"><!--	     <a href="https://empower.softwareag.com/ContactSupport/default.asp" target="_blank" >Contact&#160;Support</a> --><!--         &#160;&#160;|&#160;&#160;  --><!--         <a href="http://www.softwareag.com/corporate/community/default.asp" target="_blank" >Community</a>  --><!--         &#160;&#160;  -->
             |&nbsp;&nbsp;
         <a href="mailto://documentation@softwareag.com" target="_blank">Feedback&nbsp;&nbsp;</a></span></div></div></body></html>